{"version":3,"sources":["webpack:///./src/components/Menu.tsx","webpack:///./src/components/Amendment.tsx","webpack:///./src/components/AdrMeta.tsx","webpack:///./src/components/Header.tsx","webpack:///./src/page-templates/adr-page-template.js","webpack:///./src/components/VisuallyHidden.tsx","webpack:///./src/components/SkipToContent.tsx","webpack:///./src/components/Spacer.tsx"],"names":["menuCss","position","left","width","defaultTheme","sizes","menu","height","borderRight","colors","background2","background","zIndex","padding","spaces","marginTop","header","display","mq","desktop","Menu","children","css","aria-label","MenuItem","whiteSpace","overflow","textOverflow","fontSize","fontSizes","margin","borderLeft","color","primary","fontWeight","amendmentCss","borderRadius","radii","primaryCss","backgroundColor","primaryLight","warningCss","warningLight","warning","Amendment","by","to","slug","title","Spacer","size","map","amend","key","activeClassName","contentCss","AdrMeta","author","pullRequest","date","dateTime","href","target","rel","headerCss","borderBottom","alignItems","fontWeights","right","linkCss","textDecoration","Header","Template","data","pageContext","markdownRemark","site","edges","allMarkdownRemark","repositoryUrl","siteMetadata","projectName","frontmatter","html","amendedBy","childMarkdownRemark","Layout","Helmet","lang","name","content","excerpt","SkipToContent","marginLeft","edge","node","id","paddingTop","Wrapper","dangerouslySetInnerHTML","__html","pageQuery","visuallyHiddenStyle","clip","props","useState","isVisible","setIsVisible","theme","top","onFocus","onBlur","SkipToContentDestination","aria-hidden"],"mappings":"ySAGMA,IAAO,GACXC,SAAU,QACVC,KAAM,EACNC,MAAOC,IAAaC,MAAMC,KAC1BC,OAAQ,OACRC,YAAa,aAAaJ,IAAaK,OAAOC,YAC9CC,WAAYP,IAAaK,OAAOE,WAChCC,OAAQ,EACRC,QAAYT,IAAaU,OAAO,GAAzB,KAGPC,UAAWX,IAAaC,MAAMW,OAC9BC,QAAS,SAERb,IAAac,GAAGC,SAAU,CACzBF,QAAS,SAfA,G,sCAmBAG,EAAO,SAAC,GAAiB,IAAfC,EAAe,EAAfA,SACrB,OACE,mBAAKC,IAAKtB,EAASuB,aAAW,kDAC5B,kBAAID,IAAG,GAAkBD,KAKlBG,EAAW,SAAC,GAAiB,IAAfH,EAAe,EAAfA,SACzB,OACE,kBACEC,IAAG,YAAE,CACHG,WAAY,SACZC,SAAU,SACVC,aAAc,WACdC,SAAUxB,IAAayB,UAAU,GACjCC,OAAQ,EACRjB,QAAYT,IAAaU,OAAO,GAAzB,KAEP,MAAO,CACLD,QAAS,KAAKT,IAAaU,OAAO,GAClCiB,WAAY,yBAGd,kBAAmB,CACjBC,MAAO5B,IAAaK,OAAOwB,QAC3BC,WAAY,OACZH,WAAY,aAAa3B,IAAaK,OAAOwB,YAIhDZ,I,YChDDc,EAAe,CACnBP,SAAUxB,IAAayB,UAAU,GACjCO,aAAiBhC,IAAaiC,MAAM,GAAxB,KACZxB,QAAYT,IAAaU,OAAO,GAAzB,IAA+BV,IAAaU,OAAO,IAGtDwB,EAAa,CACjBC,gBAAiBnC,IAAaK,OAAO+B,aACrCT,WAAY,aAAa3B,IAAaK,OAAOwB,SAGzCQ,EAAa,CACjBF,gBAAiBnC,IAAaK,OAAOiC,aACrCX,WAAY,aAAa3B,IAAaK,OAAOkC,S,4CAQlCC,EAAY,SAAC,GAA+B,IAA7BC,EAA6B,EAA7BA,GAAIC,EAAyB,EAAzBA,GAC9B,OACE,8BACGA,GACC,iBAAGxB,IAAG,YAAE,CAACa,EAAcG,EAAY,CAAER,OAAQ,MAA7C,mBACkB,YAAC,IAAD,CAAMgB,GAAIA,EAAGC,MAAOD,EAAGE,QAI1CF,GAAMD,GAAM,YAACI,EAAA,EAAD,CAAQC,KAAM,IAE1BL,GACC,mBAAKvB,IAAG,YAAE,CAACa,EAAcM,KACvB,sDACA,kBAAInB,IAAG,GACJuB,EAAGM,KAAI,SAACC,GAAD,OACN,kBAAIC,IAAKD,EAAML,MACb,YAAC,IAAD,CAAMD,GAAIM,EAAML,KAAMO,gBAAgB,UACnCF,EAAMJ,eCnCnBO,EAAa,CACjBtC,QAAS,QACTW,SAAUxB,IAAayB,UAAU,GACjCC,OAAQ,GAGG0B,EAAU,SAAC,GAAgD,IAA9CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,YAAaC,EAAyB,EAAzBA,KAC7C,OACE,iBAAGrC,IAAKiC,GAAR,cACa,oBAAMK,SAAUD,GAAOA,GACjCF,GACC,oCACY,0BAASA,IAGtBC,GACC,8BAEE,iBAAGG,KAAMH,EAAaI,OAAO,SAASC,IAAI,cACvCL,MCxBPM,IAAS,GACbC,aAAc,aAAa7D,IAAaK,OAAOC,YAC/CH,OAAQH,IAAaC,MAAMW,OAC3BC,QAAS,OACTiD,WAAY,SACZrD,QAAS,KAAKT,IAAaU,OAAO,GAClCoB,WAAY9B,IAAa+D,YAAY,GACrClE,SAAU,QACVU,WAAYP,IAAaK,OAAOE,WAChCT,KAAM,EACNkE,MAAO,EACPxD,OAAQ,EAERgB,SAAUxB,IAAayB,UAAU,GAEjCJ,WAAY,SACZC,SAAU,SACVC,aAAc,aAEbvB,IAAac,GAAGC,SAAU,CACzBS,SAAUxB,IAAayB,UAAU,GACjChB,QAAS,KAAKT,IAAaU,OAAO,IArBvB,GAyBTuD,IAAO,GACXC,eAAgB,OAChBrE,SAAU,QACVC,KAAME,IAAaU,OAAO,KAEzBV,IAAac,GAAGC,SAAU,CACzBF,QAAS,QANA,GAUAsD,EAAS,SAAC,GAAgD,IAA9ClD,EAA8C,EAA9CA,SACvB,OACE,sBAAQC,IAAK0C,GACX,YAAC,IAAD,CAAMzC,aAAW,UAAUuB,GAAG,IAAIxB,IAAK+C,GAAvC,KAGChD,ICjCQ,SAASmD,EAAT,GAA0C,IAAD,QAArBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YAErCC,EAGEF,EAHFE,eACAC,EAEEH,EAFFG,KACqBC,EACnBJ,EADFK,kBAAqBD,MAGjBE,EAAgBH,SAAH,UAAGA,EAAMI,oBAAT,aAAG,EAAoBD,cACpCE,EAAcL,SAAH,UAAGA,EAAMI,oBAAT,aAAG,EAAoBC,YAEhCC,EAAsBP,EAAtBO,YAAaC,EAASR,EAATQ,KACbC,EAAcV,EAAdU,UACFhC,EAAQsB,SAAH,UAAGA,EAAatB,aAAhB,iBAAG,EAAoBiC,2BAAvB,aAAG,EAAyCH,YAEvD,OACE,YAACI,EAAA,EAAD,KACE,YAACC,EAAA,EAAD,KACE,oBAAMC,KAAK,OAEX,yBAAQN,EAAYlC,OAEpB,oBAAMyC,KAAK,cAAcC,QAASf,EAAegB,WAGnD,YAACC,EAAA,EAAD,wBAEA,YAAC,EAAD,gBACW,IACRb,EACC,iBACElB,KAAMkB,EACNhB,IAAI,sBACJD,OAAO,SACPxC,IAAG,YAAE,CAAEuE,WAAYzF,IAAaU,OAAO,MAEtCmE,GAGHA,GAIJ,YAAC,EAAD,KACGJ,EAAM1B,KAAI,SAAC2C,GAAD,OACT,YAAC,EAAD,CAAUzC,IAAKyC,EAAKC,KAAKC,IACvB,YAAC,IAAD,CAAMlD,GAAIgD,EAAKC,KAAKb,YAAYnC,KAAMO,gBAAgB,eACnDwC,EAAKC,KAAKb,YAAYlC,YAM/B,mBAAK1B,IAAG,YAAE,CAAE2E,WAAW,QAAS7F,IAAaC,MAAMW,OAA7B,MAAyCZ,IAAaU,OAAO,GAA7D,QACpB,YAACoF,EAAA,EAAD,KACE,YAACN,EAAA,EAAD,OAEER,GAAahC,IACb,8BACE,yBACE,YAAC,EAAD,CAAWP,GAAIuC,EAAWtC,GAAIM,KAEhC,YAACH,EAAA,EAAD,CAAQC,KAAM,KAIlB,wBACE,sBAAKgC,EAAYlC,OAEjB,YAAC,EAAD,CAASS,OAAQyB,EAAYzB,OAAQE,KAAMuB,EAAYvB,KAAMD,YAAawB,EAAYxB,cAEtF,YAACT,EAAA,EAAD,CAAQC,KAAM,IAEd,mBAAKiD,wBAAyB,CAAEC,OAAQjB,SAO7C,IAAMkB,EAAS,c,kJCzFTC,EAAsB,CACjCrG,SAAU,WACVM,OAAQ,MACRJ,MAAO,MACPuB,SAAU,SACV6E,KAAM,2BACN9E,WAAY,UCHDmE,EAAmE,SAACY,GAAU,MACvDC,oBAAS,GAApCC,EADkF,KACvEC,EADuE,KAWzF,OACE,6BACErF,IAAK,SAACsF,GAAD,OACHF,EACI,CACE7F,QAAS+F,EAAM9F,OAAO,GACtBH,WAAYiG,EAAMnG,OAAOC,YACzBmG,IAAKD,EAAM9F,OAAO,GAClBZ,KAAM0G,EAAM9F,OAAO,GACnBb,SAAU,WACVW,OAAQ,MAEV0F,GAENzC,KAAI,oBACJiD,QAvBgB,WAClBH,GAAa,IAuBXI,OApBe,WACjBJ,GAAa,KAoBPH,KAKGQ,EAA2E,SAACR,GACvF,OAAO,+BAAKR,GApCS,oBAoCeQ,M,wHCpCzBvD,EAAS,SAAC,GAA+B,IAA7BC,EAA6B,EAA7BA,KACvB,OAAO,mBAAK+D,eAAa,EAAM3F,IAAG,YAAE,CAAEf,OAAQH,IAAaU,OAAOoC","file":"component---src-page-templates-adr-page-template-js-7b548ef2cf0fe3b30695.js","sourcesContent":["import React from \"react\";\nimport { defaultTheme } from \"./Layout\";\n\nconst menuCss = {\n  position: \"fixed\",\n  left: 0,\n  width: defaultTheme.sizes.menu,\n  height: \"100%\",\n  borderRight: `1px solid ${defaultTheme.colors.background2}`,\n  background: defaultTheme.colors.background,\n  zIndex: 1,\n  padding: `${defaultTheme.spaces[3]} 0`,\n\n  // margin the fixed header\n  marginTop: defaultTheme.sizes.header,\n  display: \"none\",\n\n  [defaultTheme.mq.desktop]: {\n    display: \"block\",\n  },\n};\n\nexport const Menu = ({ children }) => {\n  return (\n    <nav css={menuCss} aria-label=\"List of all your architecture decision records\">\n      <ul css={{ margin: 0 }}>{children}</ul>\n    </nav>\n  );\n};\n\nexport const MenuItem = ({ children }) => {\n  return (\n    <li\n      css={{\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        fontSize: defaultTheme.fontSizes[2],\n        margin: 0,\n        padding: `${defaultTheme.spaces[0]} 0`,\n\n        \"& a\": {\n          padding: `0 ${defaultTheme.spaces[3]}`,\n          borderLeft: \"4px solid transparent\",\n        },\n\n        \"& a.link-active\": {\n          color: defaultTheme.colors.primary,\n          fontWeight: \"bold\",\n          borderLeft: `4px solid ${defaultTheme.colors.primary}`,\n        },\n      }}\n    >\n      {children}\n    </li>\n  );\n};\n","import { Link } from \"gatsby\";\nimport React from \"react\";\nimport { defaultTheme } from \"./Layout\";\nimport { Spacer } from \"./Spacer\";\n\nconst amendmentCss = {\n  fontSize: defaultTheme.fontSizes[1],\n  borderRadius: `${defaultTheme.radii[0]}px`,\n  padding: `${defaultTheme.spaces[4]} ${defaultTheme.spaces[3]}`,\n};\n\nconst primaryCss = {\n  backgroundColor: defaultTheme.colors.primaryLight,\n  borderLeft: `5px solid ${defaultTheme.colors.primary}`,\n};\n\nconst warningCss = {\n  backgroundColor: defaultTheme.colors.warningLight,\n  borderLeft: `5px solid ${defaultTheme.colors.warning}`,\n};\n\nexport interface AmendmentProps {\n  by?: Array<{ slug: string; title: string }>;\n  to?: { slug: string; title: string };\n}\n\nexport const Amendment = ({ by, to }: AmendmentProps) => {\n  return (\n    <>\n      {to && (\n        <p css={[amendmentCss, primaryCss, { margin: 0 }]}>\n          This ADR amends <Link to={to.slug}>{to.title}</Link>\n        </p>\n      )}\n\n      {to && by && <Spacer size={3} />}\n\n      {by && (\n        <div css={[amendmentCss, warningCss]}>\n          <p>This ADR has been amended by:</p>\n          <ul css={{ marginBottom: 0 }}>\n            {by.map((amend) => (\n              <li key={amend.slug}>\n                <Link to={amend.slug} activeClassName=\"active\">\n                  {amend.title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { defaultTheme } from \"./Layout\";\n\nexport interface AdrMetaProps {\n  author?: string;\n  pullRequest?: string;\n  date?: string;\n}\n\nconst contentCss = {\n  display: \"block\",\n  fontSize: defaultTheme.fontSizes[1],\n  margin: 0,\n};\n\nexport const AdrMeta = ({ author, pullRequest, date }: AdrMetaProps) => {\n  return (\n    <p css={contentCss}>\n      Created on <time dateTime={date}>{date}</time>\n      {author && (\n        <span>\n          {` - `}by <strong>{author}</strong>\n        </span>\n      )}\n      {pullRequest && (\n        <span>\n          {` - `}\n          <a href={pullRequest} target=\"_blank\" rel=\"noreferrer\">\n            {pullRequest}\n          </a>\n        </span>\n      )}\n    </p>\n  );\n};\n","import { Link } from \"gatsby\";\nimport React from \"react\";\nimport { defaultTheme } from \"./Layout\";\n\nconst headerCss = {\n  borderBottom: `1px solid ${defaultTheme.colors.background2}`,\n  height: defaultTheme.sizes.header,\n  display: \"flex\",\n  alignItems: \"center\",\n  padding: `0 ${defaultTheme.spaces[6]}`,\n  fontWeight: defaultTheme.fontWeights[4],\n  position: \"fixed\",\n  background: defaultTheme.colors.background,\n  left: 0,\n  right: 0,\n  zIndex: 2,\n\n  fontSize: defaultTheme.fontSizes[2],\n\n  whiteSpace: \"nowrap\",\n  overflow: \"hidden\",\n  textOverflow: \"ellipsis\",\n\n  [defaultTheme.mq.desktop]: {\n    fontSize: defaultTheme.fontSizes[4],\n    padding: `0 ${defaultTheme.spaces[3]}`,\n  },\n};\n\nconst linkCss = {\n  textDecoration: \"none\",\n  position: \"fixed\",\n  left: defaultTheme.spaces[4],\n\n  [defaultTheme.mq.desktop]: {\n    display: \"none\",\n  },\n};\n\nexport const Header = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <header css={headerCss}>\n      <Link aria-label=\"Go back\" to=\"/\" css={linkCss}>\n        ←\n      </Link>\n      {children}\n    </header>\n  );\n};\n","import React from \"react\";\nimport { graphql, Link } from \"gatsby\";\nimport { Helmet } from \"react-helmet\";\nimport { Layout, defaultTheme } from \"../components/Layout\";\nimport { Wrapper } from \"../components/Wrapper\";\nimport { SkipToContent, SkipToContentDestination } from \"../components/SkipToContent\";\nimport { Menu, MenuItem } from \"../components/Menu\";\nimport { Amendment } from \"../components/Amendment\";\nimport { AdrMeta } from \"../components/AdrMeta\";\nimport { Spacer } from \"../components/Spacer\";\nimport { Header } from \"../components/Header\";\n\nexport default function Template({ data, pageContext }) {\n  const {\n    markdownRemark,\n    site,\n    allMarkdownRemark: { edges },\n  } = data;\n\n  const repositoryUrl = site?.siteMetadata?.repositoryUrl;\n  const projectName = site?.siteMetadata?.projectName;\n\n  const { frontmatter, html } = markdownRemark;\n  const { amendedBy } = pageContext;\n  const amend = pageContext?.amend?.childMarkdownRemark?.frontmatter;\n\n  return (\n    <Layout>\n      <Helmet>\n        <html lang=\"en\" />\n\n        <title>{frontmatter.title}</title>\n\n        <meta name=\"description\" content={markdownRemark.excerpt} />\n      </Helmet>\n\n      <SkipToContent>Jump to content</SkipToContent>\n\n      <Header>\n        ADRs for{\" \"}\n        {repositoryUrl ? (\n          <a\n            href={repositoryUrl}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n            css={{ marginLeft: defaultTheme.spaces[0] }}\n          >\n            {projectName}\n          </a>\n        ) : (\n          projectName\n        )}\n      </Header>\n\n      <Menu>\n        {edges.map((edge) => (\n          <MenuItem key={edge.node.id}>\n            <Link to={edge.node.frontmatter.slug} activeClassName=\"link-active\">\n              {edge.node.frontmatter.title}\n            </Link>\n          </MenuItem>\n        ))}\n      </Menu>\n\n      <div css={{ paddingTop: `calc(${defaultTheme.sizes.header} + ${defaultTheme.spaces[5]} )` }}>\n        <Wrapper>\n          <SkipToContentDestination />\n\n          {(amendedBy || amend) && (\n            <>\n              <aside>\n                <Amendment by={amendedBy} to={amend} />\n              </aside>\n              <Spacer size={3} />\n            </>\n          )}\n\n          <main>\n            <h1>{frontmatter.title}</h1>\n\n            <AdrMeta author={frontmatter.author} date={frontmatter.date} pullRequest={frontmatter.pullRequest} />\n\n            <Spacer size={5} />\n\n            <div dangerouslySetInnerHTML={{ __html: html }} />\n          </main>\n        </Wrapper>\n      </div>\n    </Layout>\n  );\n}\nexport const pageQuery = graphql`\n  query($slug: String!) {\n    site {\n      siteMetadata {\n        repositoryUrl\n        projectName\n      }\n    }\n    markdownRemark(frontmatter: { slug: { eq: $slug } }) {\n      html\n      excerpt\n      frontmatter {\n        date(formatString: \"MMMM DD, YYYY\")\n        slug\n        title\n        pullRequest\n        author\n      }\n    }\n    allMarkdownRemark(sort: { order: DESC, fields: [frontmatter___date] }) {\n      edges {\n        node {\n          id\n          excerpt(pruneLength: 250)\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            slug\n            title\n          }\n        }\n      }\n    }\n  }\n`;\n","import React from \"react\";\n\nexport const visuallyHiddenStyle = {\n  position: \"absolute\",\n  height: \"1px\",\n  width: \"1px\",\n  overflow: \"hidden\",\n  clip: \"rect(1px, 1px, 1px, 1px)\",\n  whiteSpace: \"nowrap\" /* added line */,\n} as any;\n\nexport const VisuallyHidden: React.FC<React.HTMLAttributes<HTMLDivElement>> = ({ children, ...props }) => (\n  <div css={visuallyHiddenStyle} {...props}>\n    {children}\n  </div>\n);\n","import React, { useState } from \"react\";\nimport { visuallyHiddenStyle } from \"./VisuallyHidden\";\n\nconst DESTINATION_ID = `mfrachet-content`;\n\nexport const SkipToContent: React.FC<React.HTMLAttributes<HTMLAnchorElement>> = (props) => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  const handleFocus = () => {\n    setIsVisible(true);\n  };\n\n  const handleBlur = () => {\n    setIsVisible(false);\n  };\n\n  return (\n    <a\n      css={(theme) =>\n        isVisible\n          ? {\n              padding: theme.spaces[2],\n              background: theme.colors.background2,\n              top: theme.spaces[2],\n              left: theme.spaces[2],\n              position: \"absolute\",\n              zIndex: 9999,\n            }\n          : visuallyHiddenStyle\n      }\n      href={`#${DESTINATION_ID}`}\n      onFocus={handleFocus}\n      onBlur={handleBlur}\n      {...props}\n    />\n  );\n};\n\nexport const SkipToContentDestination: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props) => {\n  return <div id={DESTINATION_ID} {...props} />;\n};\n","import React from \"react\";\nimport { defaultTheme } from \"./Layout\";\n\nexport const Spacer = ({ size }: { size: number }) => {\n  return <div aria-hidden={true} css={{ height: defaultTheme.spaces[size] }} />;\n};\n"],"sourceRoot":""}